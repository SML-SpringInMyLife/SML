var registrationChart;

		document.addEventListener('DOMContentLoaded', function () {
			var ctx = document.getElementById('registrationChart').getContext('2d');
			registrationChart = new Chart(ctx, {
				type: 'bar',
				data: {
					labels: ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'],
					datasets: [
						{
							label: '50대 미만',
							backgroundColor: 'blue',
							data: []  // initial empty data
						},
						{
							label: '50대',
							backgroundColor: 'red',
							data: []  // initial empty data
						},
						{
							label: '60대',
							backgroundColor: 'green',
							data: []  // initial empty data
						},
						{
							label: '70대',
							backgroundColor: 'purple',
							data: []  // initial empty data
						},
						{
							label: '80대',
							backgroundColor: 'orange',
							data: []  // initial empty data
						},
						{
							label: '90대 이상',
							backgroundColor: 'brown',
							data: []  // initial empty data
						}
					]
				},
				options: {
					responsive: true,
					scales: {
						x: {
							beginAtZero: true
						},
						y: {
							beginAtZero: true
						}
					}
				}
			});

			// Load initial data for the default year
			updateChart();
		});

		function updateChart() {
			var year = document.getElementById('yearSelect').value;

			// Fetch data from the server based on the selected year
			// For demonstration, we will use static data. Replace this with an AJAX request to your server.
			var data = getDataForYear(year);

			registrationChart.data.datasets[0].data = data.under50;
			registrationChart.data.datasets[1].data = data.fifties;
			registrationChart.data.datasets[2].data = data.sixties;
			registrationChart.data.datasets[3].data = data.seventies;
			registrationChart.data.datasets[4].data = data.eighties;
			registrationChart.data.datasets[5].data = data.ninetiesAndAbove;
			registrationChart.update();
		}

		function getDataForYear(year) {
			// Replace this with your actual data fetching logic
			var data = {
				"2023": {
					under50: [12, 19, 3, 5, 2, 3, 8, 12, 6, 3, 5, 7],
					fifties: [15, 29, 5, 10, 5, 6, 12, 18, 9, 5, 6, 8],
					sixties: [10, 24, 5, 8, 6, 5, 10, 15, 8, 6, 5, 7],
					seventies: [8, 20, 4, 7, 3, 5, 9, 13, 6, 4, 5, 6],
					eighties: [5, 15, 3, 6, 2, 4, 7, 10, 5, 3, 4, 5],
					ninetiesAndAbove: [2, 5, 1, 2, 1, 2, 3, 4, 2, 1, 2, 3]
				},
				"2022": {
					under50: [22, 29, 5, 7, 4, 5, 10, 15, 9, 6, 7, 9],
					fifties: [18, 25, 7, 12, 6, 8, 14, 20, 11, 7, 8, 10],
					sixties: [15, 20, 6, 10, 5, 7, 12, 18, 10, 7, 6, 8],
					seventies: [10, 18, 5, 8, 4, 6, 11, 15, 8, 5, 6, 7],
					eighties: [8, 12, 4, 6, 3, 5, 8, 10, 6, 4, 5, 6],
					ninetiesAndAbove: [3, 7, 2, 3, 1, 3, 5, 7, 3, 2, 3, 4]
				},
				// Add more years as needed
			};

			return data[year];
		}